//Modified 2022-4-20

@PART[KK_SpaceX_Raptor]:
{
    @entryCost = 150000
    @cost = 4000
    @TechRequired = surfaceHervyRocketry
    @manufacturer = SpaceX
    @rescaleFactor = 0.93
    @description = The SpaceX Raptor is a full-flow staged combustion, methane-fueled rocket engine manufactured by SpaceX. The engine is powered by cryogenic liquid methane and liquid oxygen (LOX), rather than the RP-1 kerosene and LOX used in SpaceXs prior Merlin and Kestrel rocket engines.
    @mass = 1.5
    @maxTemp = 2800

    @MODULE[ModuleEnginesFX]
    {
        @maxThrust = 2300
        !PROPELLANT,*{}
        PROPELLANT // Ratio = 3.8
        {
            name = LqdMethane
            ratio = 0.4137
            DrawGauge = true
        }
        PROPELLANT
        {
            name = LqdOxygen
            ratio = 0.5863
        }
        @atmosphereCurve
        {
            @key,0 = 0 363
            @key,1 = 1 330
            @key,3 = 5 1
        }
    }
    %MODULE[TweakScale]
    {
        type = stack
        defaultScale = 1.3
    }
}



@PART[KK_SpaceX_Raptor_Vac]:
{
    @entryCost = 1500000
    @cost = 15000
    @TechRequired = vacuumHervyRocketry
    @rescaleFactor = 0.77
    @manufacturer = SpaceX
    @description = Like its sea-level efficient counterpart, the Raptor Vacuum engine is a methalox full-flow staged combustion (FFSC) engine but is optimized for higher performance under vacuum conditions, most notably, optimized for highest specific impulse given other engine requirements like reusability, reliability, and so forth.
    @mass = 2.38
    @maxTemp = 2800
    @MODULE[ModuleEnginesFX]
    {
        @maxThrust = 2800
        !PROPELLANT,*{}
        PROPELLANT // Ratio = 3.8
        {
            name = LqdMethane
            ratio = 0.4137
            DrawGauge = true
        }
        PROPELLANT
        {
            name = LqdOxygen
            ratio = 0.5863
        }
        @atmosphereCurve
        {
            @key,0 = 0 382
            @key,1 = 1 234
            @key,3 = 5 1
        }
    }
    %MODULE[TweakScale]
    {
        type = stack
        defaultScale = 2.4
    }
    MODULE
    {
        name = ModuleGimbal
        gimbalTransformName = thrustTransform
        gimbalRange = 4
        gimbalResponseSpeed = 20
        useGimbalResponseSpeed = true
    }
}

@PART[KK_SpaceX_Raptor_outerCircle]:
{
    @entryCost = 150000
    @cost = 84000
    @TechRequired = surfaceHervyRocketry
    @rescaleFactor = 0.85
    @manufacturer = SpaceX
    @description = The outer ring consists of 21 raptor engines. They are basically unable to throttle.
    @mass = 30
    @maxTemp = 2800

    @MODULE[ModuleEnginesFX]
    {
        @maxThrust = 48300
        !PROPELLANT,*{}
        PROPELLANT // Ratio = 3.8
        {
            name = LqdMethane
            ratio = 0.4137
            DrawGauge = true
        }
        PROPELLANT
        {
            name = LqdOxygen
            ratio = 0.5863
        }
        @atmosphereCurve
        {
            @key,0 = 0 363
            @key,1 = 1 330
            @key,3 = 5 1
        }
    }
}

@PART[KK_SpaceX_Raptor_innerCircle]:
{
    @entryCost = 150000
    @cost = 56000
    @rescaleFactor = 0.85
    @TechRequired = surfaceHervyRocketry
    @manufacturer = SpaceX
    @description = The inner ring consists of 14 raptors with limited throttle capability.
    @mass = 20
    @maxTemp = 2800

    @MODULE[ModuleEnginesFX]
    {
        @maxThrust = 32200
        !PROPELLANT,*{}
        PROPELLANT // Ratio = 3.8
        {
            name = LqdMethane
            ratio = 0.4137
            DrawGauge = true
        }
        PROPELLANT
        {
            name = LqdOxygen
            ratio = 0.5863
        }
        @atmosphereCurve
        {
            @key,0 = 0 363
            @key,1 = 1 330
            @key,3 = 5 1
        }
    }
}


@PART[KK_SpaceX_Raptor_centerCluster]:
{
    @entryCost = 150000
    @cost = 28000
    @rescaleFactor = 0.90
    @TechRequired = surfaceHervyRocketry
    @manufacturer = SpaceX
    @description = The center ring have 7 raptors with TVC and is heavier.
    @mass = 10.5
    @maxTemp = 2800

    @MODULE[ModuleEnginesFX]
    {
        @maxThrust = 16100
        !PROPELLANT,*{}
        PROPELLANT // Ratio = 3.8
        {
            name = LqdMethane
            ratio = 0.4137
            DrawGauge = true
        }
        PROPELLANT
        {
            name = LqdOxygen
            ratio = 0.5863
        }
        @atmosphereCurve
        {
            @key,0 = 0 363
            @key,1 = 1 330
            @key,3 = 5 1
        }
    }
}


@PART[KK_SPX_ITS_booster_RCS]:
{
    @entryCost = 35000
    @cost = 508
    @manufacturer = SpaceX
    @description = The Hot Gas RCS is very efficient.
    @maxTemp = 2100
    %skinMaxTemp = 3200

    %MODULE[TweakScale]
    {
        type = free
    }

    @MODULE[ModuleRCSFX]
    {
        @maxThrust = 100
        !PROPELLANT,*{}
        PROPELLANT // Ratio = 3.8
        {
            name = LqdMethane
            ratio = 0.4137
            DrawGauge = true
        }
        PROPELLANT
        {
            name = LqdOxygen
            ratio = 0.5863
        }
        @atmosphereCurve
        {
            @key,0 = 0 330
            @key,1 = 1 320
            @key,3 = 5 200
        }
    }
}


@PART[KK_SpaceX_Raptor_Vac_Mini]:
{
    @entryCost = 1500000
    @cost = 2500
    @TechRequired = vacuumHervyRocketry
    @manufacturer = SpaceX
    @description = Raptor Vacuum mini engine is fonded by the Air Force for a more efficient Falcon 9 upper-stage.
    @mass = 1.00
    @maxTemp = 2800

    @MODULE[ModuleEnginesFX]
    {
        @maxThrust = 1080
        !PROPELLANT,*{}
        PROPELLANT // Ratio = 3.8
        {
            name = LqdMethane
            ratio = 0.4137
            DrawGauge = true
        }
        PROPELLANT
        {
            name = LqdOxygen
            ratio = 0.5863
        }
        @atmosphereCurve
        {
            @key,0 = 0 370
            @key,1 = 1 234
            @key,3 = 5 1
        }
    }

    MODULE
    {
        name = ModuleGimbal
        gimbalTransformName = thrustTransform
        gimbalRange = 4
        gimbalResponseSpeed = 20
        useGimbalResponseSpeed = true
    }
}

@PART[KK_KK_SPX_ITS_booster_gridfin]:
{
    @entryCost = 15000
    @cost = 250
    @manufacturer = SpaceX
    @maxTemp = 3200

    %MODULE[TweakScale]
    {
        type = free
    }
}

!PART[KK_SPX_ITS_ship] {}
!PART[KK_SPX_ITS_ship_flapL] {}
!PART[KK_SPX_ITS_ship_flapR] {}
!PART[KK_SPX_ITS_booster_fuelTank] {}
!PART[KK_SPX_ITS_booster_interstage] {}


