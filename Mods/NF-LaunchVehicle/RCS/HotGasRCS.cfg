// Modified 2025-12-07

// RJ-88-A Aerodynamic Heavy Bipropellant RCS Block
@PART[nflv-rcs-aero-heavy-2]:FINAL
{
    @cost = 1250
    @mass = 0.4
    @MODULE[ModuleB9PartSwitch]:HAS[#moduleID[RCS]]
    {
        !SUBTYPE,*{}
        SUBTYPE
        {
            name = LFO
            title = Kerolox
            primaryColor = ResourceColorLiquidFuel
            secondaryColor = ResourceColorOxidizer
            descriptionDetail = #Uses Kerosene and LqdOxygen.<br><b>Thruster Power:</b> 25KN<br><b>Isp:</b> 250s (ASL) / 280s (Vac).

            MODULE
            {
                IDENTIFIER
                {
                    name = ModuleRCSFX
                }
                DATA
                {
                    thrusterPower = 25
                    PROPELLANT
                    {
                        name = Kerosene
                        ratio = 37.694087
                        DrawGauge = True
                    }
                    PROPELLANT
                    {
                        name = LqdOxygen
                        ratio = 62.305913
                    }
                    atmosphereCurve
                    {
                        key = 0 280
                        key = 1 250
                        key = 4 0.001
                    }

                }

            }
        
        }
        SUBTYPE
        {
            name = Hydrolox
            title = Hydrolox
            primaryColor = ResourceColorLqdHydrogen
            secondaryColor = ResourceColorOxidizer
            descriptionDetail = #Uses Liquid Hydrogen and Liquid Oxygen.<br><b>Thruster Power:</b> 25KN<br><b>Isp:</b> 300s (ASL) / 360s (Vac).

            MODULE
            {
                IDENTIFIER
                {
                    name = ModuleRCSFX
                }
                DATA
                {
                    thrusterPower = 25
                    PROPELLANT
                    {
                        name = LqdHydrogen
                        ratio = 0.7276
                        resourceFlowMode = STAGE_PRIORITY_FLOW
                    }
                    PROPELLANT
                    {
                        name = LqdOxygen
                        ratio = 0.2724
                        resourceFlowMode = STAGE_PRIORITY_FLOW
                    }
                    atmosphereCurve
                    {
                        key = 0 360
                        key = 1 300
                        key = 4 0.001
                    }

                }

            }
        
        }
        SUBTYPE
        {
            name = Methalox
            title = Methalox
            primaryColor = ResourceColorLqdMethane
            secondaryColor = ResourceColorOxidizer
            descriptionDetail = #Uses Liquid Methane and Liquid Oxygen.<br><b>Thruster Power:</b> 25KN<br><b>Isp:</b> 260s (ASL) / 300s (Vac).

            MODULE
            {
                IDENTIFIER
                {
                    name = ModuleRCSFX
                }
                DATA
                {
                    thrusterPower = 25
                    PROPELLANT
                    {
                        name = LqdMethane
                        ratio = 0.4137
                        resourceFlowMode = STAGE_PRIORITY_FLOW
                    }
                    PROPELLANT
                    {
                        name = LqdOxygen
                        ratio = 0.5863
                        resourceFlowMode = STAGE_PRIORITY_FLOW
                    }
                    atmosphereCurve
                    {
                        key = 0 300
                        key = 1 260
                        key = 4 0.001
                    }

                }

            }
        
        }
    }
}

@PART[nflv-rcs-aero-heavy-2]:NEEDS[Waterfall]
{
    @MODULE[ModuleB9PartSwitch]:HAS[#moduleID[RCS]]
    {
        @SUBTYPE[LFO]
        {
            MODULE
            {
                IDENTIFIER
                {
                    name = ModuleWaterfallFX
                }
                DATA
                {
                    TEMPLATE
                    {
                        // This is the name of the template to use
                        templateName = waterfall-rcs-nflv-heavy-lfo-1
                        // This field allows you to override the parentTransform name in the EFFECTS contained in the template
                        overrideParentTransform = fxVector
                        scale = 1,1,1
                        rotation = 0,0,180
                        position = 0,0.0,0
                    }
                }
            }    
        }
        @SUBTYPE[Hydrolox]
        {
            MODULE
            {
                IDENTIFIER
                {
                    name = ModuleWaterfallFX
                }
                DATA
                {
                    TEMPLATE
                    {
                        // This is the name of the template to use
                        templateName = waterfall-rcs-nflv-heavy-lh2-1
                        // This field allows you to override the parentTransform name in the EFFECTS contained in the template
                        overrideParentTransform = fxVector
                        scale = 1,1,1
                        rotation = 0,0,180
                        position = 0,0.0,0
                    }
                }
            }
        }
        @SUBTYPE[Methalox]
        {
            MODULE
            {
                IDENTIFIER
                {
                    name = ModuleWaterfallFX
                }
                DATA
                {
                    TEMPLATE
                    {
                        // This is the name of the template to use
                        templateName = waterfall-rcs-nflv-heavy-ch4-1
                        // This field allows you to override the parentTransform name in the EFFECTS contained in the template
                        overrideParentTransform = fxVector
                        scale = 1,1,1
                        rotation = 0,0,180
                        position = 0,0.0,0
                    }
                }
            }
        }
    }
}

@PART[nflv-rcs-heavy-1x-2]:Final
{
    @cost = 250
    @mass = 0.1
}

@PART[nflv-rcs-heavy-4x-2]:Final
{
    @cost = 1000
    @mass = 0.3
}

@PART[nflv-rcs-heavy-1x-2|nflv-rcs-heavy-4x-2]:Final
{
    @MODULE[ModuleB9PartSwitch]:HAS[#moduleID[RCS]]
    {
        !SUBTYPE,*{}
        SUBTYPE
        {
            name = MMH/NTO
            title = MMH/NTO
            primaryColor = ResourceColorLiquidFuel
            secondaryColor = ResourceColorLiquidFuel
            descriptionDetail = #Uses MMH and NTO.<br><b>Thruster Power:</b> 25KN<br><b>Isp:</b> 200s (ASL) / 290s (Vac).

            MODULE
            {
                IDENTIFIER
                {
                    name = ModuleRCSFX
                }
                DATA
                {
                    thrusterPower = 25
                    PROPELLANT
                    {
                        name = MMH
                        ratio = 0.4990
                        resourceFlowMode = STAGE_PRIORITY_FLOW
                    }
                    PROPELLANT
                    {
                        name = NTO
                        ratio = 0.5010
                        resourceFlowMode = STAGE_PRIORITY_FLOW
                    }
                    atmosphereCurve
                    {
                        key = 0 290
                        key = 1 200
                        key = 4 0.001
                    }

                }

            }
        
        }
        SUBTYPE
        {
            name = LFO
            title = Kerolox
            primaryColor = ResourceColorLiquidFuel
            secondaryColor = ResourceColorOxidizer
            descriptionDetail = #Uses Kerosene and LqdOxygen.<br><b>Thruster Power:</b> 25KN<br><b>Isp:</b> 230s (ASL) / 310s (Vac).

            MODULE
            {
                IDENTIFIER
                {
                    name = ModuleRCSFX
                }
                DATA
                {
                    thrusterPower = 25
                    PROPELLANT
                    {
                        name = Kerosene
                        ratio = 37.694087
                        DrawGauge = True
                    }
                    PROPELLANT
                    {
                        name = LqdOxygen
                        ratio = 62.305913
                    }
                    atmosphereCurve
                    {
                        key = 0 310
                        key = 1 230
                        key = 4 0.001
                    }

                }

            }
        
        }
        SUBTYPE
        {
            name = Hydrolox
            title = Hydrolox
            primaryColor = ResourceColorLqdHydrogen
            secondaryColor = ResourceColorOxidizer
            descriptionDetail = #Uses Liquid Hydrogen and Liquid Oxygen.<br><b>Thruster Power:</b> 25KN<br><b>Isp:</b> 300s (ASL) / 390s (Vac).

            MODULE
            {
                IDENTIFIER
                {
                    name = ModuleRCSFX
                }
                DATA
                {
                    thrusterPower = 25
                    PROPELLANT
                    {
                        name = LqdHydrogen
                        ratio = 0.7276
                        resourceFlowMode = STAGE_PRIORITY_FLOW
                    }
                    PROPELLANT
                    {
                        name = LqdOxygen
                        ratio = 0.2724
                        resourceFlowMode = STAGE_PRIORITY_FLOW
                    }
                    atmosphereCurve
                    {
                        key = 0 390
                        key = 1 300
                        key = 4 0.001
                    }

                }

            }
        
        }
        SUBTYPE
        {
            name = Methalox
            title = Methalox
            primaryColor = ResourceColorLqdMethane
            secondaryColor = ResourceColorOxidizer
            descriptionDetail = #Uses Liquid Methane and Liquid Oxygen.<br><b>Thruster Power:</b> 25KN<br><b>Isp:</b> 260s (ASL) / 340s (Vac).

            MODULE
            {
                IDENTIFIER
                {
                    name = ModuleRCSFX
                }
                DATA
                {
                    thrusterPower = 25
                    PROPELLANT
                    {
                        name = LqdMethane
                        ratio = 0.4137
                        resourceFlowMode = STAGE_PRIORITY_FLOW
                    }
                    PROPELLANT
                    {
                        name = LqdOxygen
                        ratio = 0.5863
                        resourceFlowMode = STAGE_PRIORITY_FLOW
                    }
                    atmosphereCurve
                    {
                        key = 0 340
                        key = 1 260
                        key = 4 0.001
                    }

                }

            }
        
        }
    }
}

@PART[nflv-rcs-heavy-1x-2|nflv-rcs-heavy-4x-2]:NEEDS[Waterfall]
{
    @MODULE[ModuleB9PartSwitch]:HAS[#moduleID[RCS]]
    {
        @SUBTYPE[MMH/NTO]
        {
            MODULE
            {
                IDENTIFIER
                {
                    name = ModuleWaterfallFX
                }
                DATA
                {
                    TEMPLATE
                    {
                        // This is the name of the template to use
                        templateName = waterfall-rcs-nflv-heavy-lfo-1
                        // This field allows you to override the parentTransform name in the EFFECTS contained in the template
                        overrideParentTransform = fxVector
                        scale = 1,1,1
                        rotation = 0,0,180
                        position = 0,0.0,0
                    }
                }
            }    
        }
        @SUBTYPE[LFO]
        {
            MODULE
            {
                IDENTIFIER
                {
                    name = ModuleWaterfallFX
                }
                DATA
                {
                    TEMPLATE
                    {
                        // This is the name of the template to use
                        templateName = waterfall-rcs-nflv-heavy-lfo-1
                        // This field allows you to override the parentTransform name in the EFFECTS contained in the template
                        overrideParentTransform = fxVector
                        scale = 1,1,1
                        rotation = 0,0,180
                        position = 0,0.0,0
                    }
                }
            }    
        }
        @SUBTYPE[Hydrolox]
        {
            MODULE
            {
                IDENTIFIER
                {
                    name = ModuleWaterfallFX
                }
                DATA
                {
                    TEMPLATE
                    {
                        // This is the name of the template to use
                        templateName = waterfall-rcs-nflv-heavy-lh2-1
                        // This field allows you to override the parentTransform name in the EFFECTS contained in the template
                        overrideParentTransform = fxVector
                        scale = 1,1,1
                        rotation = 0,0,180
                        position = 0,0.0,0
                    }
                }
            }
        }
        @SUBTYPE[Methalox]
        {
            MODULE
            {
                IDENTIFIER
                {
                    name = ModuleWaterfallFX
                }
                DATA
                {
                    TEMPLATE
                    {
                        // This is the name of the template to use
                        templateName = waterfall-rcs-nflv-heavy-ch4-1
                        // This field allows you to override the parentTransform name in the EFFECTS contained in the template
                        overrideParentTransform = fxVector
                        scale = 1,1,1
                        rotation = 0,0,180
                        position = 0,0.0,0
                    }
                }
            }
        }
    }
}

//RQ-5-A Aerodynamic Heavy RCS Block
@PART[nflv-rcs-aero-heavy-1]:Final
{
    @cost = 1050
    MODULE
    {
        name = ModuleEngineConfigs
        type = ModuleRCS,*
        techLevel = 1
        origTechLevel = 1
        engineType = L
        origMass = -1
        configuration = Methalox
        modded = false
        CONFIG
        {
            name = Hydrolox
            thrusterPower = 20
            PROPELLANT
            {
                name = LqdHydrogen
                ratio = 0.7276
            }
            PROPELLANT
            {
                name = LqdOxygen
                ratio = 0.2724
            }
            atmosphereCurve
            {
                key = 0 380
                key = 1 340
            }
        }
        CONFIG
        {
            name = Methalox
            thrusterPower = 20
            PROPELLANT
            {
                name = LqdMethane
                ratio = 0.4137
                DrawGauge = true
            }
            PROPELLANT
            {
                name = LqdOxygen
                ratio = 0.5863
            }
            atmosphereCurve
            {
                key = 0 320
                key = 1 290
            }
        }
        CONFIG
        {
            name = Kerolox
            thrusterPower = 20
            PROPELLANT
            {
                name = Kerosene
                ratio = 37.694087
                DrawGauge = True
            }
            PROPELLANT
            {
                name = LqdOxygen
                ratio = 62.305913
            }
            atmosphereCurve
            {
                key = 0 300
                key = 1 270
            }
        }
        CONFIG
        {
            name = MMH/NTO
            thrusterPower = 20
            PROPELLANT
            {
                name = MMH
                ratio = 0.4990
            }
            PROPELLANT
            {
                name = NTO
                ratio = 0.5010
            }
            atmosphereCurve
            {
                key = 0 290
                key = 1 260
            }
        }
    }
}

